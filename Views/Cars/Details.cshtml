@model CarDetailsViewModel

@{
    ViewBag.Title = Model.PageTitle;
}

    <div>
        <h1>Dane samochodu @Model.Car.RegistrationNumber</h1>
        <h4>Nr. rej: @Model.Car.RegistrationNumber</h4>
        <h4>Marka: @Model.Car.Make</h4>
        <h4>Model: @Model.Car.Model</h4>
        <h4>Data rejestracji: @Model.Car.ProductionYear</h4>
    </div>
<div id="accordion">
    <div class="card">
        <div class="card-header">
            <a class="card-link" data-toggle="collapse" href="#collapseService">
                Historia Serwisowa
            </a>
        </div>
        <div id="collapseService" class="collapse show" data-parent="#accordion">
            <div class="card-body">
                <a asp-action="addservice" asp-controller="cars" asp-route-guid="@Model.Car.Id" class="btn btn-primary">Dodaj serwis</a>
                <div class="row">
                    @if (Model.Services.Count() != 0)
                    {
                        <table class="table-bordered table-hover table-striped">
                            <thead>
                                <tr>
                                    <td class="text-center">Nazwa</td>
                                    <td class="text-center">Adres</td>
                                    <td class="text-center">Data</td>
                                    <td class="text-center">Przebieg</td>
                                    <td class="text-center">Typ</td>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var service in Model.Services)
                                {
                                    <tr>
                                        <td><a asp-action="details" asp-controller="services" asp-route-guid="@service.Id">@service.ServiceFacility.Name</a></td>
                                        <td>@service.ServiceFacility.Street @service.ServiceFacility.City @service.ServiceFacility.ZipCode</td>
                                        <td>@service.Date</td>
                                        <td>@service.Milage km</td>
                                        <td>@service.ServiceType.ToString()</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p>
                            Brak serwisów
                        </p>
                    }
                </div>

            </div>
        </div> 
    </div>
</div>